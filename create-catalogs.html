<link rel="stylesheet" href="./assets/css/catalogs.css">

<div class="container-xxl container-p-y">
    <div class="card-header mb-5">
        <div class="row gap-4 gap-lg-0">
            <div class="col-md-6">
                <h3 class="create-title d-flex align-items-center gap-2">
                  <span class="page-back-btn" onclick="window.history.back();"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M14.75 8a.75.75 0 0 1-.75.75h-9.69l2.72 2.72a.749.749 0 1 1-1.06 1.06l-4-4a.747.747 0 0 1 0-1.06l4-4a.749.749 0 1 1 1.06 1.06l-2.72 2.72h9.69a.75.75 0 0 1 .75.75"></path></svg></span>
                    <!-- <svg style="width: 20px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M14.75 8a.75.75 0 0 1-.75.75h-9.69l2.72 2.72a.749.749 0 1 1-1.06 1.06l-4-4a.747.747 0 0 1 0-1.06l4-4a.749.749 0 1 1 1.06 1.06l-2.72 2.72h9.69a.75.75 0 0 1 .75.75"></path></svg> -->
                    <g-t>Create B2B catalog</g-t>
                </h3>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-9">
            <div class="card">
                <div class="card-body">
                    <div class="fv-row col-12">
                        <label class="form-label required" for="name"><g-t>title</g-t></label>
                        <div class="input mb-0">
                        <input type="text" class="mb-2 form-control productTitle" id="name" name="name" placeholder="Short sleeve t-shirt" maxlength="255">
                        <span class="error-txt"></span>
                        <span class="desc"><span id="productTitleCount">B2B customers won't see this.</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card mt-4">
                <div class="widget-wrapper">
                    <div class="tab-content">
                      <div class="row">
                        <div class="col-12 mb-2">
                            <div class="d-flex justify-content-between">
                                <div class="subtitle">Products and pricing</div><br>
                                
                            </div>
                        </div>
                        <div class="col-12 product-price">
                          <div class="d-flex">
                            
                            <div>
                                <span class="required">Overall adjustment</span>
                                <div class="d-flex gap-2 custom-select">
                                    <select name="price_adjustment" class="form-control selectpicker">
                                        <option value="Price increase">Price increase</option>
                                        <option value="Price decrease">Price decrease</option>
                                    </select>
                                    <div class="overall-adjustment">
                                        <div class="input currency-input">
                                            <span class="currency-txt" style="top: 8px;">-</span>
                                            <input type="number" name="percentage" class="form-control md">
                                            <span class="currency-txt-1" style="top: 8px;">%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                          </div>
                        </div>
                        
                      </div>
                    </div>
            
                </div>
            </div>

            <div class="card mt-4">
                <div class="widget-wrapper">
                    <div class="tab-content">
                      <div class="row">
                      <div class="widget-wrapper">
                          <div class="tab-content">
                              <div class="row">
                                  <div class="col-12 mb-2">
                                      <div class="d-flex justify-content-between">
                                          <div class="subtitle required">Products</div>
                                          <button type="button" class="btn btn-secondary btn-sm arrow-svg" id="browseProductBtn">
                                              Browse Products
                                          </button>
                                      </div>
                                  </div>
                                  <div class="col-12">
                                      <div class="table-responsive">
                                          <table class="table" id="productTable">
                                              <thead>
                                                  <tr>
                                                      <th>Product</th>
                                                      <th>Variant</th>
                                                      <th class="d-none">Include</th>
                                                  </tr>
                                              </thead>
                                              <tbody></tbody>
                                          </table>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
                                          
                        
                    </div>
                </div>
            </div>
            
        </div>
        <div class="col-lg-3 mt-lg-0 mt-4">
            <div class="card">
                <div class="widget-wrapper">
                    <div class="tab-content">
                      <div class="row">
                        <div class="col-12 mb-4">
                          <div class="subtitle">Status</div>
                        </div>
                        <div class="col-12">
                          <div class="mb-0 fv-row" id="status">
                            <select name="status" class="form-control selectpicker">
                              <option value="1">Active</option>
                              <option value="0">Draft</option>
                            </select>
                            <p class="mt-2 mb-0 d-none">Catalog will be available to 0 locations</p>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="card mt-4">
                <div class="widget-wrapper">
                    <div class="tab-content">
                      <div class="row">
                        <div class="col-12 mb-2">
                            <div class="d-flex justify-content-between">
                                <div class="subtitle required">Currency</div>
                                <div class="arrow-svg currency-edit" data-bs-toggle="modal" data-bs-target="#currencyModal">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M13.655 2.344a2.694 2.694 0 0 0-3.81 0l-.599.599-.009-.009-1.06 1.06.009.01-5.88 5.88a2.75 2.75 0 0 0-.806 1.944v1.922a.75.75 0 0 0 .75.75h1.922a2.75 2.75 0 0 0 1.944-.806l7.54-7.54a2.694 2.694 0 0 0 0-3.81Zm-4.409 2.72-5.88 5.88a1.25 1.25 0 0 0-.366.884v1.172h1.172c.331 0 .65-.132.883-.366l5.88-5.88zm2.75.629.599-.599a1.196 1.196 0 0 0-1.69-1.69l-.598.6z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                          <div class="mb-0 fv-row" id="status">
                              <h4 id="currencyDisplay"></h4>
                              <p class="mt-2 mb-0" id="currencyDescription"></p>
                              <input type="hidden" id="currencyUuid">
                          </div>
                      </div>
                      </div>
                    </div>
                </div>
            </div>
            
        </div>
    </div>

    <div class="row">
        <div class="col-12 mt-5 d-flex justify-content-end gap-3">
            <a class="btn btn-primary text-white save">Save</a>
        </div>
    </div>

</div>
<!-- Product Modal -->
<div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header custom-modal-header">
                <h5 class="modal-title custom-modal-title" id="productModalLabel">Add Products</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body custom-modal-body">
                <div class="d-flex align-items-center margin-left-right custom-form-field-search search-bar-main-full">
                    <div class="table-search-main dataTables_filter" style="display: flex;">
                        <button class="cursor" onclick="return false;">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M7.66671 14C11.1645 14 14 11.1645 14 7.66666C14 4.16886 11.1645 1.33333 7.66671 1.33333C4.1689 1.33333 1.33337 4.16886 1.33337 7.66666C1.33337 11.1645 4.1689 14 7.66671 14Z" stroke="black" stroke-opacity="0.65" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M14.6667 14.6667L13.3334 13.3333" stroke="black" stroke-opacity="0.65" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                        </button>
                        <input type="text" id="custom_search_po" placeholder="Search products">
                    </div>
                </div>
                <div class="table-modal-main">
                    <div class="product-table-head">
                        <div class="product-name">
                            <span>Product</span>
                        </div>
                    </div>
                    <div id="table_product" class="product-table-body"></div>
                </div>
            </div>
            <div class="modal-footer custom-modal-footer">
                <button type="button" class="btn btn-secondary btn-modal-text" data-bs-dismiss="modal">Cancel</button>
                <button type="button" id="AddProductModal" class="btn btn-primary btn-modal-text" data-bs-dismiss="modal">Add</button>
            </div>
        </div>
    </div>
</div>
<!-- Currency Modal -->
<div class="modal fade" id="currencyModal" tabindex="-1" aria-labelledby="currencyModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header custom-modal-header">
                <h5 class="modal-title custom-modal-title" id="currencyModalLabel">Select Currency</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body custom-modal-body-catalog-currency">
                <!-- Currencies will be populated here -->
            </div>
            <div class="modal-footer custom-modal-footer">
                <button type="button" class="btn btn-secondary btn-modal-text" data-bs-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="managelocation" style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <form id="nameForm" action="javascript:void(0);" class="modal-content">
        <div class="modal-header justify-content-between custom-modal-header">
          <h5 style="font-size: 16px;" class="modal-title custom-modal-title" id="exampleModalLabel">Manage company locations</h5>
          <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
            <div class="input has-icon">
                <span class="icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16" fill="#8a8a8a"><path fill-rule="evenodd" d="M10.323 11.383a5.5 5.5 0 1 1-3.323-9.883 5.5 5.5 0 0 1 4.383 8.823l2.897 2.897a.749.749 0 1 1-1.06 1.06zm.677-4.383c0 2.21-1.79 4-4 4s-4-1.79-4-4 1.79-4 4-4 4 1.79 4 4"></path></svg>
                </span>
                <input type="text" class="form-control" placeholder="Search">
            </div>
          <div class="duplicate-main">
            <div class="d-flex justify-content-between manage-company-location">
                <h3>Company location</h3>
                <h3>Display currency</h3>
            </div>
            <div class="">
                <label>
                    <div class="d-flex justify-content-between">
                        <div  class="d-flex gap-2">
                            <input type="checkbox" class="form-check-input" />
                            <div class="textsearch">
                                <h3>Test B2b Company A, Test B2b Company A</h3>
                                <p>No shipping address</p>
                            </div>
                        </div>
                        <div>AED</div>
                    </div>
                </label>
                <label>
                    <div class="d-flex justify-content-between">
                        <div  class="d-flex gap-2">
                            <input type="checkbox" class="form-check-input" />
                            <div class="textsearch">
                                <h3>Test B2b Company A, Test B2b Company A</h3>
                                <p>No shipping address</p>
                            </div>
                        </div>
                        <div>AED</div>
                    </div>
                </label>
                <label>
                    <div class="d-flex justify-content-between">
                        <div  class="d-flex gap-2">
                            <input type="checkbox" class="form-check-input" />
                            <div class="textsearch">
                                <h3>Test B2b Company A, Test B2b Company A</h3>
                                <p>No shipping address</p>
                            </div>
                        </div>
                        <div>AED</div>
                    </div>
                </label>
            </div>
          </div>
        </div>
        <div class="modal-footer custom-modal-footer">
          <button type="button" class="btn border btn-modal-text waves-effect waves-light" data-bs-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-primary waves-effect waves-light" data-bs-dismiss="modal">Done</button>
        </div>
      </form>
    </div>
</div>

<script>
  $(".products-and-pricing").on("click", function(e) {
    e.preventDefault();
    let page = 'products-and-pricing';
    window.location.assign('?P=' + page + '&M=' + menu_id);
  });
</script>