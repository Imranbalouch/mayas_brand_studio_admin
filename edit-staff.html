<div style="overflow: h;" class="main-content create-purchase-main">
    <div class="w-100 d-flex justify-content-between align-items-center flex-wrap gap-lg-0 gap-4">
        <div class="purchase-icon-main" onclick="window.history.back();" style="cursor: pointer;">
            <svg width="16" height="16" fill="#000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                    d="M14.75 8a.75.75 0 0 1-.75.75h-9.69l2.72 2.72a.749.749 0 1 1-1.06 1.06l-4-4a.747.747 0 0 1 0-1.06l4-4a.749.749 0 1 1 1.06 1.06l-2.72 2.72h9.69a.75.75 0 0 1 .75.75">
                </path>
            </svg>
            <h2 class="purchase-title">{{ full_name }}</h2>
        </div>
    </div>
    <div class="permission-heading-main">
        <h5>Store profile</h5>
    </div>
    <div class="border widget-content">
        <div class="admin-name-main d-flex align-items-center gap-3">
            <span>{{ initials }}</span>
            <div class="comment-owner-main">
                <p>{{ full_name }}</p>
                <a href="mailto:{{ email }}">{{ email }}</a>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="authentication-password">
                    <h4>Two-step Authentication</h4>
                    <p>This user has not enabled two-step authentication.</p>
                </div>
            </div>
            <div class="col-6">
                <div class="authentication-password">
                    <h4>Password</h4>
                    <p>********</p>
                </div>
            </div>
            <div class="col-12 mt-7">
                <form id="staffForm">
                    <div class="detail-input">
                        <label for="bio">Details</label>
                        <span>Bio (optional)</span>
                        <textarea class="form-control" name="bio" id="bio">{{ bio }}</textarea>
                        <p>You can select for this to appear on blog posts that this user publishes, from within your theme editor.</p>
                    </div>
                    <div class="detail-input">
                        <span>Personal website address (optional)</span>
                        <input class="form-control" type="text" name="personal_website" id="personal_website" value="{{ personal_website }}">
                    </div>
                    <div class="checkbox-input">
                        <label for="notification">Notifications</label>
                        <div class="form-check mb-0">
                            <label class="form-check-label">
                                <input id="notification" class="form-check-input" type="checkbox" name="notification" value="1" {{ notification ? 'checked' : '' }}>
                                <span>Allow important notifications to be sent by email</span>
                            </label>
                        </div>
                        <p>We periodically send out important news about our platform to our users via email. We keep the email volume to an absolute minimum.</p>
                    </div>
                    
                    <!-- Store Permissions Section -->
                    <div class="widget-content border mt-4">
                        <div class="pos-heading-main">
                            <h4 class="d-flex align-items-center gap-2">Store permissions</h4>
                            <p>Manage permissions for {{ full_name }}</p>
                        </div>
                        <div class="store-permission-main">
                            <!-- Permissions will be dynamically loaded here -->
                            <div id="permissionsContainer"></div>
                        </div>
                    </div>
                    
                    <div class="d-flex justify-content-end mt-4">
                        <button type="button" class="btn btn-secondary me-2" id="cancelBtn">Cancel</button>
                        <button type="submit" class="btn btn-primary" id="saveBtn">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="widget-content border">
        <div class="manage-point-sale">
            <div class="permission-heading-main">
                <h5>Point of Sale</h5>
            </div>
            <div class="manage-permission-main">
                <div class="form-check">
                    <label class="form-check-label">
                        <input id="AccessCheckbox" class="form-check-input" type="checkbox" value="">
                        <span>Access Point of Sale</span>
                    </label>
                </div>
                <div class="setuprole">
                    <div class="form-check left-child">
                        <label class="form-check-label">
                            <input id="SetupCheckbox" class="form-check-input permission-checkbox" type="checkbox"
                                value="">
                            <span>Set up new or updated POS devices</span>
                            <p>Staff set up devices by logging in to the POS app with their Shopify username and
                                password. <a href="">Learn more</a></p>
                        </label>
                    </div>
                    <div style="display: none;" class="alert-box">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                            <path d="M8 4.75a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75">
                            </path>
                            <path d="M9 11.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                            <path fill-rule="evenodd"
                                d="M8 1.5c-1.045 0-1.784.702-2.152 1.447a449 449 0 0 1-2.005 3.847l-.028.052c-.892 1.703-1.798 3.432-2.008 3.856-.372.752-.478 1.75.093 2.614.57.863 1.542 1.184 2.464 1.184h7.272c.922 0 1.895-.32 2.465-1.184s.464-1.862.092-2.614c-.21-.424-1.113-2.147-2.004-3.847l-.032-.061a449 449 0 0 1-2.005-3.847c-.368-.745-1.107-1.447-2.152-1.447m-.808 2.112c.404-.816 1.212-.816 1.616 0 .202.409 1.112 2.145 2.022 3.88.908 1.734 1.817 3.467 2.018 3.875.404.817 0 1.633-1.212 1.633h-7.272c-1.212 0-1.617-.816-1.212-1.633.202-.408 1.113-2.147 2.023-3.883.908-1.733 1.815-3.464 2.017-3.872">
                            </path>
                        </svg>
                        <p>This staff member also needs access to all the apps that are integrated with the Point of
                            Sale app. <a href="">Manage Apps</a></p>
                    </div>
                    <label class="manage-role" for="">POS Role <a href="">Manage POS Roles</a></label>
                    <select class="form-control selectpicker">
                        <option value="Full permission">Full permission</option>
                        <option value="Limited permission">Limited permission</option>
                        <option selected value="Accociates (default)">Accociates (default)</option>
                    </select>
                    <a id="showPermission" class="show-permission" href="">
                        Show permission
                        <svg width="16" height="16" fill="rgba(0, 91, 211, 1)" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M3.72 6.47a.75.75 0 0 1 1.06 0l3.47 3.47 3.47-3.47a.749.749 0 1 1 1.06 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06">
                            </path>
                        </svg>
                    </a>
                    <a id="hidePermission" class="show-permission" href="">
                        Hide permission
                        <svg width="16" height="16" fill="rgba(0, 91, 211, 1)" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M3.72 6.47a.75.75 0 0 1 1.06 0l3.47 3.47 3.47-3.47a.749.749 0 1 1 1.06 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06">
                            </path>
                        </svg>
                    </a>
                    <div id="Managercollapse">
                        <div class="point-heading-main">
                            <h4>Manager approval</h4>
                            <span>Denied</span>
                        </div>
                        <div class="collapse-main">
                            <div class="point-permission-main collapse-head">
                                <h4>Checkout</h4>
                                <span class="point-arrow">
                                    <span>0 of 4 allowed</span>
                                    <svg width="16" height="16" fill="#3b4056" xmlns="http://www.w3.org/2000/svg"
                                        viewBox="0 0 16 16">
                                        <path fill-rule="evenodd"
                                            d="M3.72 6.47a.75.75 0 0 1 1.06 0l3.47 3.47 3.47-3.47a.749.749 0 1 1 1.06 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06">
                                        </path>
                                    </svg>
                                </span>
                            </div>
                            <div class="collapse-body">
                                <div class="point-heading">
                                    <h4>Add custom sales</h4>
                                    <span>
                                        <svg fill="#3b4056" width="14" height="14" xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 16 16">
                                            <path fill-rule="evenodd"
                                                d="M15 8a7 7 0 1 1-14 0 7 7 0 0 1 14 0m-3.677 4.383a5.5 5.5 0 0 1-7.706-7.706zm1.06-1.06-7.706-7.706a5.5 5.5 0 0 1 7.706 7.706">
                                            </path>
                                        </svg>
                                        Denied
                                    </span>
                                </div>
                                <div class="point-heading">
                                    <h4>Ship to customer</h4>
                                    <span>
                                        <svg fill="#3b4056" width="14" height="14" xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 16 16">
                                            <path fill-rule="evenodd"
                                                d="M15 8a7 7 0 1 1-14 0 7 7 0 0 1 14 0m-3.677 4.383a5.5 5.5 0 0 1-7.706-7.706zm1.06-1.06-7.706-7.706a5.5 5.5 0 0 1 7.706 7.706">
                                            </path>
                                        </svg>
                                        Denied
                                    </span>
                                </div>
                                <div class="point-heading">
                                    <h4>Edit taxes</h4>
                                    <span>
                                        <svg fill="#3b4056" width="14" height="14" xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 16 16">
                                            <path fill-rule="evenodd"
                                                d="M15 8a7 7 0 1 1-14 0 7 7 0 0 1 14 0m-3.677 4.383a5.5 5.5 0 0 1-7.706-7.706zm1.06-1.06-7.706-7.706a5.5 5.5 0 0 1 7.706 7.706">
                                            </path>
                                        </svg>
                                        Denied
                                    </span>
                                </div>
                                <div class="point-heading">
                                    <h4>Accept offline credit and debit payments</h4>
                                    <span>
                                        <svg fill="#3b4056" width="14" height="14" xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 16 16">
                                            <path fill-rule="evenodd"
                                                d="M15 8a7 7 0 1 1-14 0 7 7 0 0 1 14 0m-3.677 4.383a5.5 5.5 0 0 1-7.706-7.706zm1.06-1.06-7.706-7.706a5.5 5.5 0 0 1 7.706 7.706">
                                            </path>
                                        </svg>
                                        Denied
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="collapse-main">
                            <div class="point-permission-main collapse-head">
                                <h4>Discount</h4>
                                <span class="point-arrow">
                                    <span>0 of 4 allowed</span>
                                    <svg width="16" height="16" fill="#3b4056" xmlns="http://www.w3.org/2000/svg"
                                        viewBox="0 0 16 16">
                                        <path fill-rule="evenodd"
                                            d="M3.72 6.47a.75.75 0 0 1 1.06 0l3.47 3.47 3.47-3.47a.749.749 0 1 1 1.06 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06">
                                        </path>
                                    </svg>
                                </span>
                            </div>
                            <div class="collapse-body">
                                <div class="point-heading">
                                    <h4>Add custom sales</h4>
                                    <span>
                                        <svg fill="#3b4056" width="14" height="14" xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 16 16">
                                            <path fill-rule="evenodd"
                                                d="M15 8a7 7 0 1 1-14 0 7 7 0 0 1 14 0m-3.677 4.383a5.5 5.5 0 0 1-7.706-7.706zm1.06-1.06-7.706-7.706a5.5 5.5 0 0 1 7.706 7.706">
                                            </path>
                                        </svg>
                                        Denied
                                    </span>
                                </div>
                                <div class="point-heading">
                                    <h4>Ship to customer</h4>
                                    <span>
                                        <svg fill="#3b4056" width="14" height="14" xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 16 16">
                                            <path fill-rule="evenodd"
                                                d="M15 8a7 7 0 1 1-14 0 7 7 0 0 1 14 0m-3.677 4.383a5.5 5.5 0 0 1-7.706-7.706zm1.06-1.06-7.706-7.706a5.5 5.5 0 0 1 7.706 7.706">
                                            </path>
                                        </svg>
                                        Denied
                                    </span>
                                </div>
                                <div class="point-heading">
                                    <h4>Edit taxes</h4>
                                    <span>
                                        <svg fill="#3b4056" width="14" height="14" xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 16 16">
                                            <path fill-rule="evenodd"
                                                d="M15 8a7 7 0 1 1-14 0 7 7 0 0 1 14 0m-3.677 4.383a5.5 5.5 0 0 1-7.706-7.706zm1.06-1.06-7.706-7.706a5.5 5.5 0 0 1 7.706 7.706">
                                            </path>
                                        </svg>
                                        Denied
                                    </span>
                                </div>
                                <div class="point-heading">
                                    <h4>Accept offline credit and debit payments</h4>
                                    <span>
                                        <svg fill="#3b4056" width="14" height="14" xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 16 16">
                                            <path fill-rule="evenodd"
                                                d="M15 8a7 7 0 1 1-14 0 7 7 0 0 1 14 0m-3.677 4.383a5.5 5.5 0 0 1-7.706-7.706zm1.06-1.06-7.706-7.706a5.5 5.5 0 0 1 7.706 7.706">
                                            </path>
                                        </svg>
                                        Denied
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="pin-main">
                        <h5>PIN</h5>
                        <p>Staff need a unique 4-6 digits PIN to access the Point of Sale app.</p>
                        <div class="input-button">
                            <input id="pinInput" class="form-control" type="password" readonly>
                            <button type="button" onclick="generatePin()">Generate random PIN</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="permission-heading-main">
        <h5>Recent access to store</h5>
        <p>If you don't recognize a location, IP address, or ISP, it could mean your store has been compromised. Take
            steps to <a href="">secure your account.</a></p>
    </div>
    <div class="widget-content border">
        <table class="table">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>IP address</th>
                    <th>ISP</th>
                    <th>Location</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>4/7/2025</td>
                    <td>203.130.30.49</td>
                    <td>Supernet Transit</td>
                    <td>Karachi, Sindh, Pakistan</td>
                    <td><svg fill="#696969" width="16" height="16" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M8 5.25c-.69 0-1.25.56-1.25 1.25a.75.75 0 0 1-1.5 0 2.75 2.75 0 1 1 3.758 2.56.6.6 0 0 0-.226.147.2.2 0 0 0-.032.046.75.75 0 0 1-1.5-.003c0-.865.696-1.385 1.208-1.586a1.251 1.251 0 0 0-.458-2.414">
                            </path>
                            <path d="M8 12.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path>
                            <path fill-rule="evenodd"
                                d="M8 15a7 7 0 1 0 0-14 7 7 0 0 0 0 14m0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 1 0 0 11">
                            </path>
                        </svg></td>
                </tr>
                <tr>
                    <td>4/4/2025</td>
                    <td>203.130.30.49</td>
                    <td>Supernet Transit</td>
                    <td>Karachi, Sindh, Pakistan</td>
                    <td><svg fill="#696969" width="16" height="16" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M8 5.25c-.69 0-1.25.56-1.25 1.25a.75.75 0 0 1-1.5 0 2.75 2.75 0 1 1 3.758 2.56.6.6 0 0 0-.226.147.2.2 0 0 0-.032.046.75.75 0 0 1-1.5-.003c0-.865.696-1.385 1.208-1.586a1.251 1.251 0 0 0-.458-2.414">
                            </path>
                            <path d="M8 12.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path>
                            <path fill-rule="evenodd"
                                d="M8 15a7 7 0 1 0 0-14 7 7 0 0 0 0 14m0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 1 0 0 11">
                            </path>
                        </svg></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="permission-heading-main">
        <h5>Apps</h5>
        <p>This user’s apps will be shown here once they are authorized to access their accounts.</p>
    </div>
    <div class="widget-content border">
        <div class="manage-point-sale">
            <div class="authorized-any-apps">
                <h5>This user has not yet authorized any apps</h5>
                <p>This user’s apps will be shown here once they are authorized to access their accounts.</p>
            </div>
        </div>
    </div>
    <div class="permission-heading-main">
        <h5>Manage staff access</h5>
    </div>
    <div class="widget-content border">
        <div class="detail-input mt-0">
            <label for="">Suspend access</label>
            <span>This account will no longer have access to your store. You can restore access at any time.</span>
        </div>
        <div class="detail-input">
            <a data-bs-toggle="modal" href="#SuspendAccess" href="#">Suspend access</a>
        </div>
        <div class="detail-input">
            <label for="">{{ full_name }}</label>
            <span>Removed staff members will be permanently removed from your store. This action cannot be
                reversed.</span>
        </div>
        <div class="detail-input-red">
            <a data-bs-toggle="modal" href="#RemoveAccess" href="#">Remove {{ full_name }}</a>
        </div>
    </div>
</div>

<!-- SuspendAccess Modal -->
<div class="modal fade" id="SuspendAccess" aria-hidden="true" aria-labelledby="SuspendAccessLabel" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header custom-header justify-content-between">
                <h5 style="font-size: 16px;" class="modal-title custom-modal-title" id="exampleModalLabel">Suspend {{ full_name }} account access</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="detail-input mt-0">
                    <span>Are you sure you want to suspend account access for {{ full_name }}?</span>
                </div>
            </div>
            <div class="modal-footer custom-modal-footer">
                <button type="button" class="btn btn-light btn-modal-text" data-bs-dismiss="modal">Cancel</button>
                <button type="button" id="export-product" class="btn btn-primary btn-modal-text">Suspend</button>
            </div>
        </div>
    </div>
</div>
<!-- Remove Access Modal -->
<div class="modal fade" id="RemoveAccess" aria-hidden="true" aria-labelledby="RemoveAccessLabel" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header custom-header justify-content-between">
                <h5 style="font-size: 16px;" class="modal-title custom-modal-title" id="exampleModalLabel">Confirm
                    removing account for {{ full_name }}</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="detail-input mt-0">
                    <span>Are you sure you want to remove the account for {{ full_name }}? This action cannot be
                        reversed.</span>
                </div>
            </div>
            <div class="modal-footer custom-modal-footer">
                <button type="button" class="btn btn-light btn-modal-text" data-bs-dismiss="modal">Cancel</button>
                <button type="button" id="export-product" class="btn btn-primary btn-modal-text">Remove</button>
            </div>
        </div>
    </div>
</div>
<script src="./assets/js/edit-staff.js"></script>
